# setState函数被调用后，会发生什么

1.状态更新

当setState传入是一个对象时，，setState会把新的状态与当前组件的状态进行合并

当setState传入是一个对象函数时，会根据传入的函数计算出新的状态

2.异步处理

setState是异步的，调用setState后不能立即依赖新的状态值。React会将多个setState调用合并层成一个批量处理，以提高性能。

3.重新渲染

如果组件的状态发生变化，React会将这个组件以及子组件加入到重新渲染的队列中。

4.虚拟DOM对比

React会使用新的状态调用组件的render方法，生成新的虚拟DOM树。

React然后会将新的虚拟DOM和旧的虚拟DOM进行比对，找出发生变化的部分。

5.实际DOM更新

React会把新的虚拟DOM和旧的虚拟DOM进行比对变化的部分进行更新。