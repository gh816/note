# 强缓存和协商缓存

强缓存是浏览器访问资源时，先根据本地缓存资源的header中的信息判断是否命中缓存。如果是直接从缓存中读取，不会向服务器发送请求。

相关的HTTP字段头 

Expires:这是HTTP/1.0定义的字段，表示资源过期时间，是一个绝对时间。在这个时间段之前是有效的

Cache-Control：这是Http/1.1中定义的字段，他可以设置多种指令来控制缓存，

max-age=“”指定资源的有效时间，以秒为单位。例如，Cache-Control:max-age=3600表示资源在接下来的3600内有效，可以直接从缓存中读取。

no-cache:表示不使用强缓存，但是可以使用协商缓存。

no-store:表示不进行如何缓存，每次请求都必须从服务器获取最新的资源。

协商缓存

协商缓存是由服务器告诉浏览器是否使用缓存资源，也就是浏览器每一次都要发送请求到服务器询问是否使用缓存。

协商缓存的流程如下：浏览器初次访问资源，服务器返回资源同时生成一个Etag值携带在响应头返回给浏览器，当浏览器再次请求资源时，会在请求头里携带if-None-Match,值是之前服务器返回的Etag的值，服务器收到之后会拿该值与最新的Etag值做对比。如果没有变化则返回304，发生变化返回200和最新的资源文件给浏览器使用。除了Etag外，还有一个Last-Modified的属性，它是Http1.0规范的，服务器返回Last-Modified,浏览器请求头对应携带的是if-Modified-since.与Etag不同的是Last-Modified的值是一个时间值代表文件的修改时间，服务器通过对比文件的修改时间是否发生改变来判断是否使用缓存